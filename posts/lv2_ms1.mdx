---
title: '[우아한테크코스 레벨2] 첫번째 미션 회고'
date: 2023-04-25
thumbnail: /assets/level2/우테코_레벨2_다시점심뭐먹지.png
categories: FE,우아한테크코스,회고,우테코 레벨2,리액트
---

# 레벨 2 첫 미션 - 다시, 점심 뭐 먹지

방학이 끝나고 레벨 2가 시작됐습니다. 레벨 1에서 진행했던 점심 뭐 먹지 미션을 리액트로 마이그레이션하는 미션이었는데요. 만만히 보고 달려들었다가 클래스형 컴포넌트를 마주하게 됐습니다. 제가 알고 있던 그 리액트(함수형 컴포넌트)가 아니었던지라 구현에 생각보다 애를 먹었습니다.

## 클래스형 → 함수형 변환

2단계 미션은 클래스형 컴포넌트에서 함수형 컴포넌트로 변환하는 것이었는데요. 저는 함수형 컴포넌트가 리액트에 도입된 이후에 리액트에 대해 학습했기 때문에 오히려 클래스형 컴포넌트를 사용하여 코드를 작성하는 것이 더 어려웠다는 점… this 바인딩 처리, 훅을 사용할 수 없는 점 등 구현에 있어 까다로운 부분이 있었기 때문에 함수형 컴포넌트로 변환하는 2단계 미션을 기다렸다고 할까요😅

## 커스텀 훅

커스텀 훅의 생성 기준을 아직도 잘 모르겠습니다. 저는 재사용성에 초점을 두었는데, 리뷰어분께서는 함수를 분리했던 것과 비슷한 맥락으로 커스텀 훅을 만들어 쓰신다고 도 하더라구요.

![리뷰어의 커스텀 훅에 대한 생각](/assets/우테코_레벨2_1.png)

그래서 함수를 분리한다는 생각으로 state를 전부 커스텀 훅인 양 분리해 보았지만 "굳이 이렇게 나눠야 하나?🤔"라는 생각이 머리에서 떠나질 않아 원상복구시켰습니다.

결국 커스텀 훅을 만들어보는 것은 실패했습니다. 커스텀 훅에 대해 고민한 시간과 경험이 부족한 것으로 생각하고, 앞으로 만나게 될 미션들에서도 커스텀 훅을 생성해 보고 저만의 기준을 갖게 될 때까지 부딪혀보겠습니다👊

## 상속(Inheritance)보다 합성(Composition)

미션 1단계에서는 클래스형 컴포넌트로 미션을 구현했습니다. 컴포넌트는 재사용할 수 있어야 해!하는 생각에 컴포넌트 간 상속을 사용했습니다. 컴포넌트의 상속에 대해 정보를 얻고자 리액트 공식문서를 뒤적거리던 중

![상속에 대한 페이스북의 생각](/assets/우테코_레벨2_2.png)

!!!

위와 같은 문장을 발견했습니다. ...그래서 왜 컴포넌트 간 상속을 권장하지 않는지 생각해 봤습니다.

- 단일 책임 원칙에 위배됨
- 컴포넌트의 재사용성(부모 컴포넌트의 로직이 자식 컴포넌트에 묶이게 되므로)

위 두 가지 정도로 나름 정의를 내려봤습니다. 이것 말고도 다른 이유가 있을지는 사용하면서 깨닫는 바가 있지 않을까 생각합니다..

## 데이터 관리

이번 미션에서 음식점의 데이터를 관리하는 객체를 만들어 사용했었는데요.

리액트 사용경험이 많은 다른 크루들은 음식점 데이터를 어떻게 처리했는지 물었더니 `context API`를 사용한 분들이 많더라구요. `useContext`을 사용해보긴 했지만 어떤 기준을 가지고 사용해야 하는지 불명확한 상태였기 때문에 `useContext` 훅에 대한 학습을 더 않았습니다.

하지만 다음 미션에서는 꼭 사용할 만한 상황이 오면 사용해보겠습니다💪

## 사용자 정의 타입에 대한 타입 가드

이번 미션의 주요 기능은 카테고리/이름/거리 순 음식점 정렬 기능이었다고 생각하는데요. 해당 기능은 두개의 셀렉트박스(드롭다운)을 통해 동작합니다.

그때마다 셀렉트에서 보내는 value를 도메인에서 정렬하기 전에 타입 가드를 거치게 하는 것은 어떨까하는 생각이 들었습니다. 그래서 해당 부분의 타입가드를 아래와 같이 만들어 보았습니다.

```
const isCriterion = (filter: string): filter is Criterion => {
  if (CRITERION_LIST.includes(filter)) return true;
  return false;
};
```

### 결과

![타입가드 통과 전](/assets/우테코_레벨2_3.png)
타입가드를 통과하기 전 value는 `string`

![타입카드 통과 후](/assets/우테코_레벨2_4.png)

타입가드를 통과하면 `Criterion` 타입으로 value가 타입 내로잉이 됐음을 확인할 수 있었습니다!🤗

### closest의 사용

![closest 사용 코드](/assets/우테코_레벨2_5.png)

`closest()`를 사용하여 `li`가 가진 id에 접근한 부분이 온보딩 미션 가장 피드백을 핫하게? 받은 부분입니다. 세 가지의 피드백을 주셨는데요. 요약하자면,

1.  의도치 않은 엘리먼트를 select할 가능성이 많아 보인다.
2.  html attribute로써의 id와 데이터로써의 id는 구분해야 한다.
3.  어차피 item 마다 핸들러를 달아준다면 html이 정보를 가지고 있을 필요는 없다.

위 코드의 `closest()`처럼 DOM에 직접 접근하여 특정 요소의 id만을 찾아가도록 한 코드는 재사용도 불가능하다고 할 수 있겠네요. 피드백을 반영하여 `Item`마다 핸들러를 달아주어 `Item`이 가진 id를 `return`하는 형식으로 변경하였고, DOM에 직접 접근하는 문제를 해결하였습니다.

## 마치며

온보딩 미션이고 이전에 사용한 프로젝트의 마이그레이션 미션이었기 때문에 난이도가 높지는 않았습니다. 하지만 제 역량 부족으로 인해 구현 시간이 비교적 많이 필요했습니다. 오랜만의 리액트에 타입스크립트까지 적용하려니.. 힘든 시간이었습니다. 리액트+타입스크립트에 대한 학습이 필요하다는 걸 느낀 소중한 미션이었습니다. 이 미션을 발판삼아 앞으로의 미션들도 열심히 헤쳐나가보도록 하겠습니다.💪
