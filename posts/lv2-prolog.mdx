---
title: '[ìš°ì•„í•œí…Œí¬ì½”ìŠ¤] ë ˆë²¨2 í•™ìŠµë¡œê·¸'
date: 2023-05-08
thumbnail: /assets/level2/ìš°í…Œì½”_ë ˆë²¨2_í•™ìŠµë¡œê·¸.png
categories: FE,ìš°ì•„í•œí…Œí¬ì½”ìŠ¤,í•™ìŠµë¡œê·¸,ë ˆë²¨2,ë¦¬ì•¡íŠ¸
---

## ì¹´ë“œì•¼.. ë„Œ stateê°€ ë„ˆë¬´ ë§ì•„(useReducer)

í˜ì´ë¨¼ì¸  ì•± ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©´ì„œ ì¹´ë“œ ë²ˆí˜¸, ë§Œë£Œì¼, ì¹´ë“œ ì†Œìœ ì ì´ë¦„.. ë“±ë“± ì¹´ë“œë¥¼ ì´ë£¨ê³  ìˆëŠ” stateë“¤ì´ ì¡´ì¬í–ˆìŠµë‹ˆë‹¤.

```tsx
const [cardNumbers, setCardNumbers] = useState(['','','','']);
const [expirationMonth, setExpirationMonth] = useState('');
// ê·¸ ì™¸ ì´ 7ê°œì˜ stateë“¤..
...
```

ì•„â€¦ ë³´ê¸° ì‹«ë‹¤!

7ê°œì˜ stateë“¤ì´ ì½”ë“œ ë‚´ì—ì„œ ìë¦¬ë¥¼ ì°¨ì§€í•˜ê³  ìˆëŠ” ê²ƒì´ ë³´ê¸° ì‹«ì—ˆìŠµë‹ˆë‹¤.

ì´ë“¤ì„ í›…ìœ¼ë¡œ ë¶„ë¦¬ë¥¼ í• ì§€, í˜¹ì€ ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì„ì§€ ê³ ë¯¼ì— ë¹ ì¡ŒìŠµë‹ˆë‹¤.

ê³ ë¯¼ ëì— ì´ ë°”ê¸€ë°”ê¸€í•œ stateë“¤ì€ ê²°êµ­ cardë¼ëŠ” ê°ì²´ë¥¼ ìœ„í•œ í”„ë¡œí¼í‹°ë“¤ì´ì–ì•„???ë¼ëŠ” ê²°ë¡ ì— ë„ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.

ê°ì²´ í•˜ë‚˜ì˜ state ë§Œì„ ê´€ë¦¬í•˜ë©´ ë˜ëŠ”ê±° ì•„ë‹ˆì•¼? í•˜í•³ğŸ¤·â€â™‚ï¸

```tsx
const [card, setCard] = useState(defaultCard);
```

<div align="center">
  <img src="/assets/level2/ê°œìš´.jpeg" width="250" alt="ê°œìš´í•œ ì•„ì €ì”¨" />
</div>

<br />
<br />
<br />

ê·¸ëŸ°ë°? ê°ì²´ì˜ setStateí•˜ëŠ” ë°©ì‹ì´ ì‹¬ìƒì¹˜ ì•ŠìŠµë””ë‹¤?

```tsx
setCard(prev => ({
  ...prev,
  expirationDate: { month: value, year: prev.expirationDate.year },
}));
```

ğŸ¤”.. ë­”ê°€ ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì„ ê²ƒë§Œ ê°™ì€ ê·¸ëŸ° ëŠë‚Œ.

ê·¸ë˜ì„œ ë¦¬ë·°ë¥¼ ìš”ì²­í•˜ë©° ì§ˆë¬¸ì„ ë“œë ¸ìŠµë‹ˆë‹¤. nê°œì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒê³¼ nê°œì˜ ìƒíƒœë¥¼ ê°€ì§„ 1ê°œì˜ ê°ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ ì¤‘ ì–´ëŠ ê²ƒì„ ì„ í˜¸í•˜ëŠ”ì§€ìš”.

![í”¼ë“œë°±](/assets/level2/ìš°í…Œì½”_ë ˆë²¨2_1.png)

ì—°ê´€ì„±ê³¼ ì˜ì¡´ì„±.. ë°”ë¡œ cardì˜ í”„ë¡œí¼í‹°ë“¤ì„ ë‹´ë‹¹í•˜ëŠ” stateë“¤ì´ ì•„ë‹ˆê² ìŠµë‹ˆê¹Œ?!

useReducer().. ë“œë””ì–´ ì‚¬ìš©í•´ë³¼ ë•Œê°€ ì˜¨ ê²ƒì´ì£ .

ê·¸ë ‡ê²Œ useReducerë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œë¥¼ ì½ë˜ ì¤‘

![useReducer](/assets/level2/useReducer.png)

ì•„..? useState íŒŒíŠ¸ì—ì„œë„ ì—¬ëŸ¬ í•˜ìœ—ê°’ë“¤ì„ í¬í•¨í•œ ê°ì²´ë¥¼ ë‹¤ë£° ë•ŒëŠ” useReducerë¥¼ ì¶”ì²œí•˜ê³  ìˆë”ë¼êµ¬ìš”.ğŸ¥²Â (useReducerë¥¼ ì‚¬ìš©í•  ëª…ë¶„ ì¶”ê°€)

### useReducer()ì˜ ì ìš©

stateì™€ëŠ” ë‹¤ë¥¸ ì‚¬ìš© ë°©ë²•ì— ì••ë„ë˜ì–´ ì‚¬ìš©í•˜ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë˜ ê²ƒì„ í›„íšŒí–ˆìŠµë‹ˆë‹¤.

ê³µì‹ë¬¸ì„œì™€ ê°ì¢… ì˜ˆì œë“¤ì„ í•™ìŠµí•œ ë’¤ ë¯¸ì…˜ì— ì ìš©í•´ë³´ì•˜ìŠµë‹ˆë‹¤!

ì‚¬ìš© ì˜ˆì‹œ

```tsx
// useCardInfo.ts

/** type definition for reducer */
type ReducerActionTypes =
  // ...

  | { type: 'SET_OWNER_NAME'; payload: string }
  | { type: 'SET_SECURITY_CODE'; payload: string }
  | { type: 'SET_FIRST_PASSWORD'; payload: string };

// ...;

/** reducer */
const reducer = (state: Card, action: ReducerActionTypes): Card => {
  switch (action.type) {
    // ...

    case 'SET_OWNER_NAME':
      return { ...state, ownerName: action.payload };
    case 'SET_SECURITY_CODE':
      return { ...state, securityCode: action.payload };
    case 'SET_FIRST_PASSWORD':
      return {
        ...state,
        password: { first: action.payload, second: state.password.second },
      };

    // ...

    default:
      return { ...state };
  }
};

/** useReducer */
export const useCardInfo = (
  cardInfo: Card,
): [Card, Dispatch<ReducerActionTypes>] => {
  const [state, dispatch] = useReducer(reducer, cardInfo);

  return [state, dispatch];
};
```

```tsx
// AddCardForm.tsx

/** using custom hook useReducer()  */
const [state, dispatch] = useCardInfo(cardInfo);

/** use dispatch in event handler */
const handleSecurityCodeChange: ChangeEventHandler<HTMLInputElement> = e => {
  const { value } = e.target;

  dispatch({ type: 'SET_SECURITY_CODE', payload: value });
};
```

reducerì— paramìœ¼ë¡œ ë“¤ì–´ê°ˆ actionì˜ typeì„ ì •í•´ì¤ë‹ˆë‹¤. paramìœ¼ë¡œ ë„˜ê²¨ì£¼ì–´ì•¼í•  ê°’ì´ ìˆë‹¤ë©´ payloadì˜ í”„ë¡œí¼í‹°ë¡œ ë„˜ê²¨ì¤ë‹ˆë‹¤.

ë„˜ê²¨ë°›ì€ actionì˜ typeê³¼ payload, ê·¸ë¦¬ê³  ì´ì „ì˜ stateë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì—¬ ì¤ë‹ˆë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ ì½”ë“œì˜ ê¸¸ì´ê°€ íšê¸°ì ìœ¼ë¡œ ì¤„ì—ˆë‹¤ê±°ë‚˜ í•˜ì§„ ì•Šì•˜ì§€ë§Œ, ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì„ í•´ë‹¹ ë¡œì§(`AddCardForm`)ì—ì„œ ì†ì‰½ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
